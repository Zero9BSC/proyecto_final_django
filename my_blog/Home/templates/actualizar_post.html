{% extends 'index.html' %}
{% load static %}

{% block codigoDinamico %}

<style>
    body {
        background-image: url("{% static 'Home/assets/background_7.jpg' %}");
        background-size: cover;
        background-repeat: no-repeat;
        color: #fff;
    }
</style>

<div class="container background-container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow" style="border-top-left-radius: 3px; border-top-right-radius: 3px;">
                <div class="card-header text-white">
                    <h3 class="card-title mb-0">Actualizar Post</h3>
                </div>
                <div class="card-body">
                    <form action="" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="id_titulo">Titulo:</label>
                            <input type="text" class="form-control" id="id_titulo" name="titulo" value="{{ formulario.titulo.value }}">
                        </div>
                        {% if formulario.imagen.value %}
                        <div class="form-group">
                            <label for="id_imagen">Imagen Actual:</label><br>
                            <img src="{{ formulario.imagen.value.url }}" alt="Imagen Actual" class="img-fluid">
                            <input type="file" class="form-control-file mt-2" id="id_nueva_imagen" name="nueva_imagen">
                        </div>
                        {% endif %}
                        <div class="form-group">
                            <label for="id_sub_titulo">Sub Titulo:</label>
                            <input type="text" class="form-control" id="id_sub_titulo" name="sub_titulo" value="{{ formulario.sub_titulo.value }}">
                        </div>
                        <div class="form-group">
                            <label for="id_categoria">Categoria:</label>
                            <select class="form-control" id="id_categoria" name="categoria">
                                {% for categoria in categorias %}
                                <option value="{{ categoria }}" {% if formulario.categoria.value == categoria %} selected {% endif %}>{{ categoria }}</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group" style="display: none;>
                            <label for="id_fecha">Fecha:</label>
                            <input type="date" class="form-control" id="id_fecha" name="fecha" value="{{ formulario.fecha.value|date:'Y-m-d' }}">
                        </div>
                        <div class="form-group">
                            <label for="id_texto">Texto:</label>
                            <textarea class="form-control" id="id_texto" name="texto">{{ formulario.texto.value }}</textarea>
                        </div>
                        <div class="text-center">
                            <button class="btn btn-primary btn-lg" type="submit">Actualizar Post</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
